<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <title>Web Resep</title>
    <style>
        .nav .web-resep {
            display: none;
        }

        .nav #icon {
			display: none;
			width: 30px;
            background-color: #6B21A8;
            padding: 2px;
            box-sizing: border-box;
		}

        /*ver mobile*/
		.nav-list-mobile {
			display: none;
			background-color: white;
			padding: 10px 20px;
			font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
			font-size: 14px;
			color: #6B21A8;
			position: fixed;
			width: 100%;
            box-shadow: 0 3px 5px lightgrey;
		}

		.nav-list-mobile ul li {
			line-height: 35px;
			list-style: none;
		}

		/*responsive*/
		@media screen and (max-width: 600px) {
            .nav {
                position: sticky;
                top: 0;
                background-color: white;
                display: flex;
                justify-content: space-between;
                box-shadow: 0 3px 5px lightgrey;
                z-index: 100;
            }

            .nav .web-resep {
                display: block;
            }

			.nav ul {
				display: none;
			}

			.nav #icon {
				display: block;
			}	
		}

		/* @media screen and (max-width: 400px) {
			nav .heading h1 {
				font-size: 18px;
			}
		} */

    </style>
</head>
<body>
    <img src="loading.gif" id="loading">
    <!-- navigasi -->
    <div class="nav p-4">
        <h1 class="web-resep text-lg font-semibold tracking-wide">Web Resep</h1>
        <ul class="flex justify-between w-2/4 p-2 mx-auto">
            <a href="home.html"><li class="border px-6 py-1 rounded-md bg-purple-800 text-neutral-50 font-semibold border-purple-800 hover:bg-purple-900 hover:border-purple-900">Home</li></a>
            <a href="kategori.html"><li class="px-5 py-1 text-purple-800 font-semibold hover:text-purple-900 hover:underline">Kategori</li></a>
            <a href="resep.html"><li class="px-5 py-1 text-purple-800 font-semibold hover:text-purple-900 hover:underline">Resep</li></a>
            <a href="tentang_kami.html"><li class="px-5 py-1 text-purple-800 font-semibold hover:text-purple-900 hover:underline">Tentang Kami</li></a>
        </ul>
        <img src="logo/hamburger_icon.png" alt="hamburger_icon" id="icon" class="rounded-md">
    </div>

    <!-- mobile navigasi link -->
	<div class="nav-list-mobile">
		<ul>
			<a href="home.html"><li class="border px-6 py-1 rounded-md bg-purple-800 text-neutral-50 font-semibold border-purple-800 hover:bg-purple-900 hover:border-purple-900">Home</li></a>
            <a href="kategori.html"><li class="px-5 py-1 text-purple-800 font-semibold hover:text-purple-900 hover:underline">Kategori</li></a>
            <a href="resep.html"><li class="px-5 py-1 text-purple-800 font-semibold hover:text-purple-900 hover:underline">Resep</li></a>
            <a href="tentang_kami.html"><li class="px-5 py-1 text-purple-800 font-semibold hover:text-purple-900 hover:underline">Tentang Kami</li></a>
		</ul>
	</div>
    
    <!-- cover / header -->
    <div class="header-cover w-4/5 h-96 mx-auto bg-cover bg-center flex justify-center items-center mt-8 sm:mt-2" 
    style="background-image: url(img/davide-cantelli-jpkfc5_d-DI-unsplash.jpg);">
    <h1 class="text-3xl text-white font-semibold subpixel-antialiased tracking-wide px-4 box-sizing">Kumpulan Berbagai Resep Aneka Masakan</h1>
    </div>
    <!-- container -->
    <div class="container w-9/12 mx-auto">

        <!-- section 1 -->
        <div class="section-1 grid justify-items-center mt-14 sm:grid-cols-2 lg:grid-cols-3" id="resep_terbaik"></div>
        
        <!-- cover / header 2 -->
        <div class="header-cover w-auto h-60 mx-auto bg-cover bg-center mt-12 flex justify-center items-center" 
        style="background-image: url(img/eaters-collective-12eHC6FxPyg-unsplash.jpg);">
        <h1 class="text-3xl text-white font-semibold subpixel-antialiased tracking-wide px-4 box-sizing">Temukan Resep Masakan Pilihan</h1>
        </div>
        <!-- text title -->
        <div class="title my-10">
            <p class="font-semibold text-2xl text-center lg:text-left">Pilih Makanan Favoritmu</p>
        </div>

        <!-- section 2 -->
        <div class="section-2 grid grid-cols-1 gap-x-8 gap-y-8 mx-auto place-items-center sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4" id="resep_lainnya"></div>
    
    </div>
    <!-- footer -->
    <div class="footer text-center text-purple-800 font-semibold mt-40 mb-20">
        <p>adjimuhamadzidan @ 2022</p>
    </div>

    <script>
		// memanggil icon gambar
		let iconHamb = document.getElementById('icon');
		iconHamb.onclick = function() {

			// memanggil list navigasi mobile
			let navbar = document.getElementsByClassName('nav-list-mobile')[0];

			// jika icon ditekan (menampilkan link nav)
			if(navbar.style.display === "none") {
		    	navbar.style.display = "block";
		    } 

		    // jika icon ditekan lagi (menyembunyikan link nav)
		    else {
		        navbar.style.display = "none";
		    }
        }
        
	</script>

    <script>
        $(function() {
            // mengambil data dengan ajax
            $.ajax({
                    method: "GET",
                    url: "https://www.themealdb.com/api/json/v1/1/filter.php?c=Seafood",
                    
                    })
                    .done(function( msg ) {
                        // konversi object menjadi array
                        let meals = msg.meals;
                        console.log();

                        let isiData = '';
                        let isiResep = '';
                        let i = 0;

                        // menampilkan banyak data
                        $.each(meals, function(index) {
                            if (i < 3) {
                                isiData += `<div class="resep-1 w-52 box-content p-3 hover:bg-slate-100 hover:bg-slate-100">
                                                <a href="detail_resep.html?id=${meals[index].idMeal}">
                                                    <img src="${meals[index].strMealThumb}">
                                                    <div class="judul py-2 text-center">
                                                        <p class="font-bold">${meals[index].strMeal}</p>
                                                    </div>
                                                </a>
                                            </div>`;
                            }

                            else {
                                isiResep += `<div class="list-resep-10 w-52">
                                                <a href="detail_resep.html?id=${meals[index].idMeal}">
                                                    <div class="gambar bg-cover bg-center h-52 hover:brightness-75" 
                                                    style="background-image: url(${meals[index].strMealThumb});">
                                                    </div>
                                                </a>
                                            </div>`;
                            }
                            
                            i++;
                        });
                        
                        $('#resep_terbaik').append(isiData);
                        $('#resep_lainnya').append(isiResep);
                        $('#loading').hide() // menyembunyikan loading jika data telah masuk
                       
                        console.log('data berhasil ditampikan');

                });
        });

    </script>
</body>
</html>